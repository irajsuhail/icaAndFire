{"version":3,"sources":["App.js","index.js"],"names":["App","state","characterList","selectedCharacter","loading","books","term","handleClick","id","setState","fetch","then","response","json","data","forEach","book","concat","renderList","arr","length","onSubmit","handleSubmit","className","type","placeholder","onChange","e","target","value","filter","item","name","toLowerCase","includes","map","index","key","onClick","url","aliases","renderBooks","renderCharacterDetail","born","died","this","React","Component","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"qLA0GeA,G,kNAtGdC,MAAQ,CACPC,cAAe,GACfC,kBAAmB,KACnBC,SAAS,EACTC,MAAO,GACPC,KAAM,I,EASPC,YAAc,SAACC,GACd,EAAKC,SAAS,CAACN,kBAAmB,OAClC,EAAKM,SAAS,CAACL,SAAS,IACxBM,MAAMF,GACLG,MAAK,SAAAC,GAAQ,OAAIA,EAASC,UAC1BF,MAAK,SAAAG,GAAS,EAAKL,SAAS,CAACN,kBAAmBW,EAAMV,SAAS,OAC/DO,MAAK,WACL,EAAKV,MAAME,kBAAkBE,MAAMU,SAAQ,SAAAC,GAC1C,EAAKP,SAAS,CAACJ,MAAO,KACtBK,MAAMM,GACLL,MAAK,SAAAC,GAAQ,OAAIA,EAASC,UAC1BF,MAAK,SAAAG,GAAI,OAAI,EAAKL,SAAS,CAACJ,MAAO,EAAKJ,MAAMI,MAAMY,OAAOH,e,EAK/DI,WAAa,SAACC,GACb,OAAmB,IAAfA,EAAIC,OACA,2CAIN,6BACC,6BACC,0BAAMC,SAAU,EAAKC,cACpB,2BAAOC,UAAU,YAAYC,KAAK,OAAQC,YAAY,uBAAuBC,SAAU,SAACC,GAAD,OAAO,EAAKlB,SAAS,CAACH,KAAMqB,EAAEC,OAAOC,aAG9H,6BACEV,EAAIW,QAAO,SAAAC,GAAI,OAAIA,EAAKC,KAAKC,cAAcC,SAAS,EAAKjC,MAAMK,KAAK2B,kBACpEE,KAAI,SAACJ,EAAMK,GACZ,OACC,yBAAKb,UAAU,gBAAgBc,IAAKD,EAAOE,QAAS,kBAAM,EAAK/B,YAAYwB,EAAKQ,OAC/E,6BACC,uBAAGhB,UAAU,iBAAiBQ,EAAKC,KAAOD,EAAKC,KAAM,UACrD,uBAAGT,UAAU,kBAAkBQ,EAAKS,QAAQ,GAAKT,EAAKS,QAAQ,GAAI,WAEnE,kD,EASPC,YAAc,WACb,OAAI,EAAKxC,MAAMI,MAAMe,OAAS,EACtB,EAAKnB,MAAMI,MAAM8B,KAAI,SAACJ,GAAD,OAAU,2BAAIA,EAAKC,KAAOD,EAAKC,KAAM,aAG1D,kD,EAITU,sBAAwB,WAAO,IAAD,EACQ,EAAKzC,MAAnCE,EADsB,EACtBA,kBAAmBC,EADG,EACHA,QAC1B,OAA0B,OAAtBD,EACCC,EACI,yBAAKmB,UAAU,iBAAf,6BAGA,yBAAKA,UAAU,iBAAf,qCAKP,yBAAKA,UAAU,oBACd,uBAAGA,UAAU,iBAAiBpB,EAAkB6B,KAAO7B,EAAkB6B,KAAO,iBAChF,uBAAGT,UAAU,kBAAb,IAAgCpB,EAAkBqC,QAAUrC,EAAkBqC,QAAQ,GAAK,iBAC3F,2BAAG,0BAAMjB,UAAU,QAAhB,UAAH,IAAyCpB,EAAkBwC,KAAOxC,EAAkBwC,KAAO,iBAC3F,2BAAG,0BAAMpB,UAAU,QAAhB,UAAH,IAAyCpB,EAAkByC,KAAOzC,EAAkByC,KAAO,iBAC3F,6BAAK,0BAAMrB,UAAU,QAAhB,WAAL,IAA4C,EAAKkB,cAAjD,O,kEA9EgB,IAAD,OAClB/B,MAAM,wEACLC,MAAK,SAAAC,GAAQ,OAAIA,EAASC,UAC1BF,MAAK,SAAAG,GAAI,OAAI,EAAKL,SAAS,CAACP,cAAeY,S,+BAkF5C,OACC,yBAAKS,UAAU,OACd,yBAAKA,UAAU,QAAQsB,KAAK3B,WAAW2B,KAAK5C,MAAMC,gBAClD,yBAAKqB,UAAU,QAAQsB,KAAKH,8B,GAjGdI,IAAMC,YCCxBC,IAASC,OACP,kBAAC,IAAMC,WAAP,KACE,kBAAC,EAAD,OAEFC,SAASC,eAAe,U","file":"static/js/main.e2601cb4.chunk.js","sourcesContent":["import React from 'react'\r\nimport './App.css'\r\n\r\nclass App extends React.Component{\r\n\tstate = {\r\n\t\tcharacterList: [],\r\n\t\tselectedCharacter: null,\r\n\t\tloading: false,\r\n\t\tbooks: [],\r\n\t\tterm: \"\"\r\n\t}\r\n\r\n\tcomponentDidMount(){\r\n\t\tfetch(\"https://www.anapioficeandfire.com/api/characters?page=1&pageSize=100\")\r\n\t\t.then(response => response.json())\r\n\t\t.then(data => this.setState({characterList: data}))\r\n\t}\r\n\r\n\thandleClick = (id) => {\r\n\t\tthis.setState({selectedCharacter: null})\r\n\t\tthis.setState({loading: true})\r\n\t\tfetch(id)\r\n\t\t.then(response => response.json())\r\n\t\t.then(data => {this.setState({selectedCharacter: data, loading: false})})\r\n\t\t.then(() => {\r\n\t\t\tthis.state.selectedCharacter.books.forEach(book => {\r\n\t\t\t\tthis.setState({books: []})\r\n\t\t\t\tfetch(book)\r\n\t\t\t\t.then(response => response.json())\r\n\t\t\t\t.then(data => this.setState({books: this.state.books.concat(data)}))\r\n\t\t\t});\r\n\t\t})\r\n\t}\r\n\r\n\trenderList = (arr) => {\r\n\t\tif (arr.length === 0){\r\n\t\t\treturn <div>Loading...</div>\r\n\t\t}\r\n\t\telse {\r\n\t\t\treturn (\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<form onSubmit={this.handleSubmit}>\r\n\t\t\t\t\t\t\t<input className=\"searchBox\" type=\"text\"  placeholder=\"search for character\" onChange={(e) => this.setState({term: e.target.value})} />\r\n\t\t\t\t\t\t</form>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t{arr.filter(item => item.name.toLowerCase().includes(this.state.term.toLowerCase()))\r\n\t\t\t\t\t\t.map((item, index) => {\r\n\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t<div className=\"characterCard\" key={index} onClick={() => this.handleClick(item.url)}>\r\n\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t<p className=\"characterName\">{item.name ? item.name: \"------\"}</p>\r\n\t\t\t\t\t\t\t\t\t<p className=\"characterAlias\">{item.aliases[0] ? item.aliases[0]: \"------\"}</p>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div>bookmarked</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t)})}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t)\r\n\t}}\r\n\r\n\r\n\trenderBooks = () => {\r\n\t\tif (this.state.books.length > 0){\r\n\t\t\treturn this.state.books.map((item) => <p>{item.name ? item.name: \"------\"}</p>)\t\r\n\t\t}\r\n\t\telse {\r\n\t\t\treturn <div>Loading books...</div>\r\n\t\t}\r\n\t\t}\r\n\r\n\trenderCharacterDetail = () => {\r\n\t\tconst {selectedCharacter, loading} = this.state\r\n\t\tif (selectedCharacter === null){\r\n\t\t\tif (loading){\r\n\t\t\t\treturn <div className=\"superCentered\">Loading character data...</div>\t\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\treturn <div className=\"superCentered\">Select a character to get details</div>\r\n\t\t\t}\r\n\t\t}\r\n\t\telse {\r\n\t\t\treturn (\r\n\t\t\t\t<div className=\"characterDetails\">\r\n\t\t\t\t\t<p className=\"characterName\">{selectedCharacter.name ? selectedCharacter.name : \"Not available\"}</p>\r\n\t\t\t\t\t<p className=\"characterAlias\"> {selectedCharacter.aliases ? selectedCharacter.aliases[0] : \"Not available\"}</p>\r\n\t\t\t\t\t<p><span className=\"bold\">Born: </span> {selectedCharacter.born ? selectedCharacter.born : \"Not available\"}</p>\r\n\t\t\t\t\t<p><span className=\"bold\">Died: </span> {selectedCharacter.died ? selectedCharacter.died : \"Not available\"}</p>\r\n\t\t\t\t\t<div><span className=\"bold\">Books: </span> {this.renderBooks()}\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t)\r\n\t\t}\r\n\t}\r\n\r\n\trender(){\r\n\t\treturn(\t\t\t\r\n\t\t\t<div className=\"App\">\r\n\t\t\t\t<div className=\"list\">{this.renderList(this.state.characterList)}</div>\r\n\t\t\t\t<div className=\"data\">{this.renderCharacterDetail()}</div>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App.js';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}