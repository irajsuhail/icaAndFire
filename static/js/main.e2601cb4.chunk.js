(this.webpackJsonpv1=this.webpackJsonpv1||[]).push([[0],{12:function(e,a,t){},13:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),c=t(2),l=t.n(c),s=t(3),o=t(4),i=t(6),u=t(5),m=(t(12),function(e){Object(i.a)(t,e);var a=Object(u.a)(t);function t(){var e;Object(s.a)(this,t);for(var n=arguments.length,c=new Array(n),l=0;l<n;l++)c[l]=arguments[l];return(e=a.call.apply(a,[this].concat(c))).state={characterList:[],selectedCharacter:null,loading:!1,books:[],term:""},e.handleClick=function(a){e.setState({selectedCharacter:null}),e.setState({loading:!0}),fetch(a).then((function(e){return e.json()})).then((function(a){e.setState({selectedCharacter:a,loading:!1})})).then((function(){e.state.selectedCharacter.books.forEach((function(a){e.setState({books:[]}),fetch(a).then((function(e){return e.json()})).then((function(a){return e.setState({books:e.state.books.concat(a)})}))}))}))},e.renderList=function(a){return 0===a.length?r.a.createElement("div",null,"Loading..."):r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement("form",{onSubmit:e.handleSubmit},r.a.createElement("input",{className:"searchBox",type:"text",placeholder:"search for character",onChange:function(a){return e.setState({term:a.target.value})}}))),r.a.createElement("div",null,a.filter((function(a){return a.name.toLowerCase().includes(e.state.term.toLowerCase())})).map((function(a,t){return r.a.createElement("div",{className:"characterCard",key:t,onClick:function(){return e.handleClick(a.url)}},r.a.createElement("div",null,r.a.createElement("p",{className:"characterName"},a.name?a.name:"------"),r.a.createElement("p",{className:"characterAlias"},a.aliases[0]?a.aliases[0]:"------")),r.a.createElement("div",null,"bookmarked"))}))))},e.renderBooks=function(){return e.state.books.length>0?e.state.books.map((function(e){return r.a.createElement("p",null,e.name?e.name:"------")})):r.a.createElement("div",null,"Loading books...")},e.renderCharacterDetail=function(){var a=e.state,t=a.selectedCharacter,n=a.loading;return null===t?n?r.a.createElement("div",{className:"superCentered"},"Loading character data..."):r.a.createElement("div",{className:"superCentered"},"Select a character to get details"):r.a.createElement("div",{className:"characterDetails"},r.a.createElement("p",{className:"characterName"},t.name?t.name:"Not available"),r.a.createElement("p",{className:"characterAlias"}," ",t.aliases?t.aliases[0]:"Not available"),r.a.createElement("p",null,r.a.createElement("span",{className:"bold"},"Born: ")," ",t.born?t.born:"Not available"),r.a.createElement("p",null,r.a.createElement("span",{className:"bold"},"Died: ")," ",t.died?t.died:"Not available"),r.a.createElement("div",null,r.a.createElement("span",{className:"bold"},"Books: ")," ",e.renderBooks()," "))},e}return Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch("https://www.anapioficeandfire.com/api/characters?page=1&pageSize=100").then((function(e){return e.json()})).then((function(a){return e.setState({characterList:a})}))}},{key:"render",value:function(){return r.a.createElement("div",{className:"App"},r.a.createElement("div",{className:"list"},this.renderList(this.state.characterList)),r.a.createElement("div",{className:"data"},this.renderCharacterDetail()))}}]),t}(r.a.Component));l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(m,null)),document.getElementById("root"))},7:function(e,a,t){e.exports=t(13)}},[[7,1,2]]]);
//# sourceMappingURL=main.e2601cb4.chunk.js.map